(function(a,b){"function"===typeof define&&define.amd?define("zepto-gfx-flip",["zepto"],function(a){b(a)}):b(a.Zepto)})(this,function(a){var b={width:120,height:120,duration:400,easing:""};a.fn.gfxFlip=function(g){var c=a(this),d=a.extend({},b,g||{}),f=c.find(".front"),e=c.find(".back");c.css({position:"relative","-webkit-perspective":"600","-moz-perspective":"600","-webkit-transform-style":"preserve-3d","-moz-transform-style":"preserve-3d","-webkit-transform-origin":"50% 50%","-moz-transform-origin":"50% 50%",
width:d.width,height:d.height});f.add(e).css({position:"absolute",width:"100%",height:"100%",display:"block","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden"});e.transform({rotateY:"-180deg"});c.bind("flip",function(){var a,b;c.toggleClass("flipped");(flipped=c.hasClass("flipped"))?(a="180deg",b="0deg"):(a="0deg",b="-180deg");f.animate({rotateY:a},d.duration,d.easing);e.animate({rotateY:b},d.duration,d.easing,function(){c.trigger("flip:changed")})})}});
KISSY.add("mobile/zepto-gfx.flip/",function(){return Zepto});
